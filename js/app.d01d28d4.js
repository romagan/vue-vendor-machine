(function(t){function e(e){for(var s,r,u=e[0],i=e[1],c=e[2],d=0,p=[];d<u.length;d++)r=u[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,u=1;u<n.length;u++){var i=n[u];0!==a[i]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-vendor-machine/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=i;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("85ec"),a=n.n(s);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("showcase"),n("panel")],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page__showcase"},[n("div",{staticClass:"page__showcase-body"},[n("products")],1)])},u=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"product-list"},t._l(t.products,(function(t){return n("li",{staticClass:"product-list__item"},[n("product",{attrs:{product:t}})],1)})),0)},c=[],l=n("5530"),d=n("2f62"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["product",t.isActiveClass]},[n("span",{staticClass:"product__name"},[t._v(t._s(t.product.title))]),n("span",{staticClass:"product__desc"},[t._v(t._s(t.product.desc))]),n("span",{staticClass:"product__price"},[t._v(t._s(t.price))]),n("span",{staticClass:"product__id"},[t._v(t._s(t.product.id))])])},m=[],f={name:"Product",components:{},props:{product:Object},data:function(){return{}},computed:Object(l["a"])(Object(l["a"])({},Object(d["b"])("banknotes",{sum:"sum"})),{},{price:function(){return"".concat(this.product.price," ₽")},isActiveClass:function(){return this.sum>=parseInt(this.product.price,10)?"product_active":""}}),mounted:function(){},methods:{}},h=f,b=n("2877"),v=Object(b["a"])(h,p,m,!1,null,null,null),_=v.exports,g={name:"Products",components:{Product:_},props:{},data:function(){return{}},computed:Object(l["a"])({},Object(d["b"])("products",{products:"items"})),mounted:function(){},methods:{}},C=g,y=Object(b["a"])(C,i,c,!1,null,null,null),O=y.exports,T={name:"Showcase",components:{Products:O},props:{msg:String}},P=T,j=Object(b["a"])(P,r,u,!1,null,null,null),x=j.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page__control-panel"},[n("div",{staticClass:"page__control-panel-body"},[n("insert-form"),n("result-form"),n("output-form")],1)])},w=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.insertValue(e)}}},[n("label",{staticClass:"text-board form__label"},[n("span",{staticClass:"text-board__text"},[t._v(" "+t._s(t.status)+" ")])]),n("div",{staticClass:"form__input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:["form__input",t.disabledClass],attrs:{placeholder:"...",type:"text",disabled:t.totalProductsLength},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}})]),t._m(0)])},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"form__desc"},[t._v(" Available banknotes: 50, 100,"),n("br"),t._v(" 200, 500 or 1000 ₽."),n("br"),t._v(" The machine gives change"),n("br"),t._v(" in 1, 2, 5 and 10 R coins. ")])}],R=(n("c740"),{name:"InsertForm",components:{},props:{},data:function(){return{inputValue:"",insertedType:""}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["b"])("banknotes",{availableBanknotes:"availableBanknotes",sum:"sum"})),Object(d["b"])("products",{totalProducts:"totalProducts"})),{},{status:function(){var t="";return t=this.sum>0?"Insert money ".concat(this.sum," ₽"):"Insert banknotes...",""!==this.insertedType&&("text"==this.insertedType?t="Banknote must be a number!":"unknown"==this.insertedType&&(t="Unknown banknote!")),t},totalProductsLength:function(){return this.totalProducts.length>0},disabledClass:function(){return this.totalProductsLength?"form__input_disable":""}}),watch:{insertedType:function(t){var e=this;""!==t&&setTimeout((function(){e.insertedType=""}),1e3)},sum:function(t){0==t&&(this.inputValue="")}},mounted:function(){},methods:{insertValue:function(){var t=parseInt(this.inputValue,10);if(isNaN(t))this.insertedType="text";else{var e=this.availableBanknotes.findIndex((function(e){return t===e}));-1!==e?this.$store.dispatch("banknotes/addToSum",this.availableBanknotes[e]):this.insertedType="unknown"}}}}),V=R,$=Object(b["a"])(V,S,I,!1,null,null,null),E=$.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.chooseNumber(e)}}},[n("label",{staticClass:"text-board form__label"},[n("span",{staticClass:"text-board__text"},[t._v(" "+t._s(t.status)+" ")])]),n("div",{staticClass:"form__input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:["form__input",t.disabledClass],attrs:{type:"text",placeholder:t.placeholder,disabled:t.isDisabled},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}})])])},F=[],L={name:"ResultForm",components:{},props:{},data:function(){return{inputValue:"",insertedType:"",isResultSent:!1}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["b"])("banknotes",{sum:"sum"})),Object(d["b"])("products",{itemsPrice:"itemsPrice",itemsId:"itemsId"})),{},{isDisabled:function(){var t=this,e=this.itemsPrice.findIndex((function(e){return t.sum>=e}));return!!this.isResultSent||-1===e},status:function(){var t="";return t=this.isDisabled?"success"==this.insertedType?"Success!":".":"text"==this.insertedType?"Choice must be a number!":"unknown"==this.insertedType?"Enter the correct number":"expensive"==this.insertedType?"Not enough money!":"Choose product...",t},placeholder:function(){return this.isDisabled?".":"..."},disabledClass:function(){return this.isDisabled?"form__input_disable":""}}),watch:{insertedType:function(t){var e=this;""!==t&&"success"!==t&&setTimeout((function(){e.insertedType=""}),1e3)},sum:function(t){0==t&&(this.inputValue="",this.insertedType="",this.isResultSent=!1)}},mounted:function(){},methods:{chooseNumber:function(){var t=parseInt(this.inputValue,10);if(isNaN(t))this.insertedType="text";else{var e=this.itemsId.findIndex((function(e){return t===e}));-1!==e?this.sum>=this.itemsPrice[e]?(this.$store.dispatch("products/addToTotal",this.itemsId[e]),this.$store.dispatch("banknotes/calculateChange",this.itemsPrice[e]),this.isResultSent=!0,this.insertedType="success"):this.insertedType="expensive":this.insertedType="unknown"}}}},B=L,D=Object(b["a"])(B,N,F,!1,null,null,null),A=D.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"output"},[n("div",{staticClass:"text-board output__text-board"},[n("span",{staticClass:"text-board__text"},[t._v(" "+t._s(t.status)+" ")])]),n("div",{staticClass:"output__bottom"},[n("div",{staticClass:"output__output"},[t.changeResultLength?[t._l(t.changeResult,(function(e){return[n("span",{staticClass:"output__change-item"},[t._v(" "+t._s(e.value+" ₽")),n("br"),t._v(" "+t._s(e.change+" coins")+" ")])]}))]:[t.totalProductsLength?[n("span",{staticClass:"output__change-item"},[t._v(" No change ")])]:t._e()]],2),n("div",{staticClass:"output__output output__output_product"},[t.totalProductsLength?[t._l(t.totalProducts,(function(e){return[n("div",{staticClass:"output__product-item",attrs:{tabindex:"0"},on:{click:function(n){return t.removeElement(e.id)}}},[n("product",{attrs:{product:e}})],1)]}))]:t._e()],2)])])},W=[],J={name:"OutputForm",components:{Product:_},props:{},data:function(){return{}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["b"])("products",{totalProducts:"totalProducts"})),Object(d["b"])("banknotes",{changeResult:"changeResult"})),{},{totalProductsLength:function(){return this.totalProducts.length>0},changeResultLength:function(){return this.changeResult.length>0},status:function(){return this.totalProductsLength?"Take your product and change":"."}}),mounted:function(){},methods:{removeElement:function(t){this.$store.dispatch("products/removeFromTotal",t),this.$store.dispatch("banknotes/reset")}}},U=J,q=Object(b["a"])(U,M,W,!1,null,null,null),z=q.exports,G={name:"Panel",components:{InsertForm:E,ResultForm:A,OutputForm:z},props:{},data:function(){return{}},computed:{},mounted:function(){},methods:{}},H=G,K=Object(b["a"])(H,k,w,!1,null,null,null),Q=K.exports,X={name:"App",components:{Showcase:x,Panel:Q}},Y=X,Z=(n("034f"),Object(b["a"])(Y,a,o,!1,null,null,null)),tt=Z.exports,et=(n("4de4"),n("d81d"),n("a434"),n("2909")),nt={namespaced:!0,state:{items:st(),totalProducts:[]},getters:{items:function(t){return t.items},itemsPrice:function(t,e){return e.items.map((function(t){return parseInt(t.price,10)}))},itemsId:function(t,e){return e.items.map((function(t){return t.id}))},totalProducts:function(t){return t.totalProducts}},mutations:{addToTotal:function(t,e){var n,s=t.items.filter((function(t){return t.id==e}));(n=t.totalProducts).push.apply(n,Object(et["a"])(s))},removeFromTotal:function(t,e){var n=t.totalProducts.findIndex((function(t){return t.id==e}));t.totalProducts.splice(n,1)}},actions:{addToTotal:function(t,e){var n=t.commit;n("addToTotal",e)},removeFromTotal:function(t,e){var n=t.commit;n("removeFromTotal",e)}}};function st(){return[{id:1,title:"Cola",desc:"Acid Drink",price:"134"},{id:2,title:"Evian",desc:"Pure Water",price:"500"},{id:13,title:"Contex",desc:"Condoms",price:"600"},{id:15,title:"Snickers",desc:"Nuts Choco bar",price:"100"},{id:16,title:"Wagon Wheels",desc:"Choco cookies",price:"165"},{id:18,title:"Nestea",desc:"Ice Tea",price:"60"},{id:22,title:"Skittles",desc:"Fruit-flavored Candies",price:"90"}]}var at=n("b85c"),ot={namespaced:!0,state:{availableBanknotes:[50,100,200,500,1e3],availableChange:[10,5,2,1],changeResult:[],sum:0},getters:{availableBanknotes:function(t){return t.availableBanknotes},sum:function(t){return t.sum},formattedSum:function(t){return"".concat(t.sum," ₽")},changeResult:function(t){return t.changeResult}},mutations:{addToSum:function(t,e){t.sum+=e},reset:function(t){t.sum=0,t.changeResult=[]},calculateChange:function(t,e){var n=t.sum-e;if(n>0){var s,a=Object(at["a"])(t.availableChange);try{for(a.s();!(s=a.n()).done;){var o=s.value,r=Math.floor(n/o);if(r>0&&t.changeResult.push({value:o,change:r}),n%o===0)break;n%=o}}catch(u){a.e(u)}finally{a.f()}}}},actions:{addToSum:function(t,e){var n=t.commit;n("addToSum",e)},reset:function(t){var e=t.commit;e("reset")},calculateChange:function(t,e){var n=t.commit;n("calculateChange",e)}}};s["a"].use(d["a"]);var rt=new d["a"].Store({modules:{products:nt,banknotes:ot},strict:!1});s["a"].config.productionTip=!1,new s["a"]({store:rt,render:function(t){return t(tt)}}).$mount("#app")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.d01d28d4.js.map